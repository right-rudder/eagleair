---
import ImageComp from "./ImageComp.astro";

interface Step {
  imagePath?: string;
  title: string;
  description: string;
}

interface Props {
  title: string;
  subtitle?: string;
  steps?: Step[];
}

const defaultSteps = [
  {
    imagePath: "/src/assets/angry-_-kat-5R4fBlHEegc-unsplash.jpg",
    title: "Schedule a Conversation or Flight",
    description:
      "Contact Eagle Aircraft or book a discovery flight to tour the school, learn about our programs, and talk through your goals.",
  },
  {
    imagePath: "/src/assets/angry-_-kat-5R4fBlHEegc-unsplash.jpg",
    title: "Choose Your Training Path",
    description:
      "Select the right option for you, from stand-alone ratings to university degree partnerships, VA-backed training, or accelerated programs.",
  },
  {
    imagePath: "/src/assets/angry-_-kat-5R4fBlHEegc-unsplash.jpg",
    title: "Train at KVPZ",
    description:
      "Train with experienced instructors in Cessna and Tecnam aircraft and FRASCA simulators at Porter County Regional Airport in Valparaiso.",
  },
  {
    imagePath: "/src/assets/angry-_-kat-5R4fBlHEegc-unsplash.jpg",
    title: "Advance Your Aviation Career",
    description:
      "Build hours as Eagle Aircraft instructor, then transition to airlines.",
  },
];

const {
  title = "Our Team",
  subtitle = "Get to know with what you`ll be flying with",
  steps = defaultSteps,
} = Astro.props;

const defaultImage = "/src/assets/angry-_-kat-5R4fBlHEegc-unsplash.jpg";
---

<section id="our-fleet" class="py-4 md:py-8 bg-monza-600">
  <div class="max-w-7xl mx-auto px-5 md:px-8 lg:px-12">
    <div class="text-center mb-12 md:mb-16">
      <h2 class="title">
        {title}
      </h2>
      {subtitle && <p class="text-white">{subtitle}</p>}
    </div>

    <div class="relative">
      <div
        class="hidden lg:block absolute top-16 left-0 right-0 h-1 bg-primary-200"
        aria-hidden="true"
      >
      </div>

      <div class="flex flex-col mx-auto gap-6 max-w-5xl">
        {
          steps.map((step, index) => {
            const isReversed = index % 2 !== 0;
            const stepImage = step.imagePath || defaultImage;

            return (
              <div class="bg-muted-50 shadow-md transition ease-out duration-200 hover:scale-105 hover:shadow-2xl hover:-translate-y-2">
                <div
                  class={`flex flex-col gap-6 p-8 items-center
                  ${isReversed ? "md:flex-row-reverse" : "md:flex-row"}`}
                >
                  <div class="flex-shrink-0">
                    <div class="w-20 h-20 md:w-24 md:h-24 overflow-hidden rounded-full shadow-lg">
                      <ImageComp
                        src={stepImage}
                        alt={step.title}
                        class="w-full h-full object-cover"
                      />
                    </div>
                  </div>

                  <div
                    class={`flex-1 mt-4 md:mt-0
                    text-center
                    ${isReversed ? "md:text-right md:pr-4" : "md:text-left md:pl-4"}`}
                  >
                    <h3 class="text-2xl md:text-3xl font-title font-bold text-muted-600 mb-3">
                      {step.title}
                    </h3>
                    <p class="text-muted-700 leading-relaxed">
                      {step.description}
                    </p>
                  </div>
                </div>
              </div>
            );
          })
        }
      </div>
    </div>
  </div>
</section>
